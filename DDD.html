<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="author" content="Tomasz Borek, @LAFK pl,"><title>Domain Driven Design</title><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport"><link href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/theme/white.css" id="theme"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css"><style>.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */</style><link href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/css/zenburn.css" rel="stylesheet"><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/print/pdf.css" : "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script><!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/html5shiv.js"></script><![endif]--></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>Domain Driven Design</h1><div class="preamble"><div class="paragraph"><p>DDD, domain, domain expert, modelling, ubiquitous language, building blocks, model and OO, whirlpool, contexts, system map</p></div>
<div class="imageblock" style=""><img src="./img/BrainlyLogo.png" alt="200" width="75"></div></div><p class="author"><small>Tomasz Borek, @LAFK pl,</small></p></section>
<section><section id="in_a_nutshell"><h2>In a nutshell</h2><div class="dlist"><dl><dt class="hdlist1">DDD </dt><dd><p>Domain Driven Design, a way of creating software that uses a business language everywhere, from requirements gathering, through model, code and tests. Usually done with a domain expert(s), it employs several techniques which are roughly divided into tactical and strategic.</p></dd></dl></div><div class="paragraph"><p>Definition mine.</p></div></section><section id="uml_and_electrical_engineers"><h2>UML and electrical engineers</h2><div class="paragraph"><p>or how Eric Evans was struck by an inspiration</p></div></section><section id="ubiquitous_language"><h2>Ubiquitous language</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>ubiquitous == omnipresent</p></li><li class="fragment"><p>tests, docs, code, issues, manuals</p></li><li class="fragment"><p>customers, BAs, POs, support, devs, QAs</p></li><li class="fragment"><p>it&#8217;s about <strong>unambiguous</strong> vocabulary</p></li></ol></div></section><section id="domain"><h2>Domain</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>domain expert is your guide</p></li><li class="fragment"><p>business invariants, rules, facts, processes</p></li><li class="fragment"><p>problem reality</p></li><li class="fragment"><p>this - you model, distill, isolate and rid of complexity</p></li></ol></div></section><section id="contexts_maps_boundaries"><h2>Contexts, maps, boundaries</h2><div class="olist arabic"><ol class="arabic"><li><p>map the contexts</p></li><li><p>context per team is possible</p></li><li><p>define boundaries</p></li><li><p>mental and org level</p></li></ol></div></section><section id="new_modelling_techniques"><h2>New modelling techniques</h2><div class="olist arabic"><ol class="arabic"><li><p>context mapping</p></li><li><p>whirlpool</p></li><li><p>event storming</p></li></ol></div></section><section id="strategic_patterns"><h2>Strategic patterns</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>work within Conway&#8217;s Law and bounded contexts</p></li><li class="fragment"><p>problem separation reflected in teams cooperation</p></li><li class="fragment"><p>should be clear from a context map</p></li><li class="fragment"><p>work across boundaries</p></li><li class="fragment"><p>not every piece of the system is equally important</p></li></ol></div></section><section id="tactical_patterns"><h2>Tactical patterns</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>address code organization</p></li><li class="fragment"><p>work within boundaries</p></li><li class="fragment"><p>design patterns</p></li><li class="fragment"><p>so-called building blocks</p></li></ol></div></section><section id="testing"><h2>Testing</h2><div class="olist arabic"><ol class="arabic"><li><p>frequently employes BDD and variants cause language</p></li><li><p>TDD, ATDD sure</p></li><li><p>acceptance used heavily in whirlpool</p></li></ol></div></section><section id="how_ddd_affects_sdlc_phases"><h2>How DDD affects SDLC phases?</h2><div class="paragraph"><p>all of them, some more than others, some if we pull other 'symbiotic' techniques</p></div></section></section>
<section><section id="todays_rules" data-background-color="green"><h2>Today&#8217;s rules</h2><div class="paragraph"><p>Tempo - as you wish.<br>
Questions - as we go.<br>
Break - one half-way through.</p></div></section><section id="about_sages"><h2>About Sages</h2><div class="olist arabic"><ol class="arabic"><li><p>Trainings and advisories for IT professionals</p></li><li><p>for companies in IT and outside, as long as it&#8217;s about software</p></li></ol></div></section><section id="sages_mission_statement"><h2>Sages' mission statement</h2><div class="quoteblock"><blockquote>Company&#8217;s mission is to support the process of designing, creating and deploying software in corporations and public institutions, to minimize cost, time and risk associated with these endeavours.</blockquote><div class="attribution"><cite>http://www.sages.com.pl/sages</cite><br>&#8212; Sages - o nas</div></div>
<div class="paragraph"><p>translation mine</p></div></section><section id="about_me_when_not_representing_sages"><h2>About me, when not representing Sages</h2><div class="imageblock" style=""><img src="./img/LAFK_pl.png" alt="LAFK pl"></div></section><section><div class="imageblock" style=""><img src="./img/LAFK_pl_wSieci.png" alt="LAFK pl wSieci"></div></section><section id="my_jobs_include"><h2>My jobs include</h2><div class="olist arabic"><ol class="arabic"><li><p>audits of: code, infra, components, design, systems</p></li><li><p>performance or security tests and audits</p></li><li><p>dealing with DBs, OS', networks or security</p></li><li><p>programming jobs</p></li><li><p>lectures, talks, workshops, trainings</p></li></ol></div></section><section id="questions" data-background-color="red"><h2>Questions?</h2><div class="imageblock" style=""><img src="./img/question-mark.jpg" alt="question mark"></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">appears rarely, so don&#8217;t wait for it</td></tr></table></div></section></section>
<section><section id="next_steps" data-background-color="green"><h2>Next steps</h2><div class="paragraph"><p>be it books, reading or exercises</p></div></section><section id="books"><h2>Books</h2><div class="paragraph"><p>who has read&#8230;&#8203;</p></div></section><section><div class="imageblock" style=""><img src="./img/books_DDD_EvansBlueBookCover.jpg" alt="books DDD EvansBlueBookCover"></div></section><section><div class="imageblock" style=""><img src="./img/books_DDD_VernonRedBookCover.jpg" alt="books DDD VernonRedBookCover"></div></section><section><div class="imageblock" style=""><img src="./img/books_RefactoringDBs.jpg" alt="books RefactoringDBs"></div></section><section><div class="paragraph"><p><a href="http://www.slideshare.net/melbournepatterns/enterprise-integration-patterns" class="bare">http://www.slideshare.net/melbournepatterns/enterprise-integration-patterns</a></p></div>
<div class="imageblock" style=""><img src="./img/books_EIP.gif" alt="books EIP"></div></section><section><div class="paragraph"><p>Older though good about OO through tests?</p></div>
<div class="imageblock" style=""><img src="./img/books_GrowingOOByTests.jpg" alt="books GrowingOOByTests"></div></section><section><div class="imageblock" style=""><img src="./img/books_microservices.jpg" alt="books microservices"></div></section><section><div class="paragraph"><p><a href="http://www.codingthearchitecture.com/" class="bare">http://www.codingthearchitecture.com/</a></p></div>
<div class="imageblock" style=""><img src="./img/books_SA4Devs.jpg" alt="books SA4Devs"></div></section><section><div class="paragraph"><p>about architecture documentation? Chapter 3 onwards&#8230;&#8203;</p></div>
<div class="imageblock" style=""><img src="./img/books_SEI_DocumentingSA.jpg" alt="books SEI DocumentingSA"></div></section><section><div class="paragraph"><p><a href="http://www.viewpoints-and-perspectives.info/" class="bare">http://www.viewpoints-and-perspectives.info/</a></p></div>
<div class="imageblock" style=""><img src="./img/books_SoftwareSystemsArchi.jpg" alt="books SoftwareSystemsArchi"></div></section><section><div class="paragraph"><p><a href="https://leanpub.com/introducing_eventstorming" class="bare">https://leanpub.com/introducing_eventstorming</a></p></div>
<div class="imageblock" style=""><img src="./img/books_DDD_AlbertoBrandoliniEventStorming.jpg" alt="cover" width="800" height="600"></div></section><section id="lighter_reading"><h2>Lighter reading</h2><div class="olist arabic"><ol class="arabic"><li><p>articles by Bottega</p></li><li><p>their project, Laven</p></li><li><p>most things by authors mentioned earlier or later</p></li></ol></div></section><section id="exercises"><h2>Exercises</h2><div class="olist arabic"><ol class="arabic"><li><p>archi-kata</p></li><li><p>small modelling exercises</p></li><li><p>small example in various ways, to see what DDD brings</p></li><li><p>and in a different order</p></li><li><p>callisthenics</p></li><li><p>event storming</p></li><li><p>whirlpool</p></li></ol></div></section><section id="people"><h2>People</h2><div class="olist arabic"><ol class="arabic"><li><p>Eric Evans,</p></li><li><p>Vaughn Vernon,</p></li><li><p>Alberto Brandolini, @ziobardo</p></li><li><p>Piotr Wyczesany,</p></li><li><p>Sławomir Sobótka,</p></li><li><p>Łukasz Szydło</p></li></ol></div></section><section id="questions_2"><h2>Questions?</h2><div class="imageblock" style=""><img src="./img/question-mark.jpg" alt="question mark"></div></section></section>
<section><section id="word_about_modelling"><h2>Word about modelling</h2><div class="paragraph"><p>In or out of DDD, along with its ailments</p></div></section><section id="simplification"><h2>Simplification</h2><div class="olist arabic"><ol class="arabic"><li><p>Modelling was never meant to "take in all"</p></li><li><p>We skip parts we don&#8217;t need or don&#8217;t care about</p></li><li><p>It&#8217;s a simplified image</p></li></ol></div></section><section id="complexity"><h2>Complexity</h2><div class="paragraph"><p>Accidental or Essential</p></div></section><section id="essential_complexity"><h2>Essential complexity</h2><div class="olist arabic"><ol class="arabic"><li><p>may be inherent to current problem</p></li><li><p>may be inherent for problem domain</p></li></ol></div></section><section id="accidental_complexity"><h2>Accidental complexity</h2><div class="olist arabic"><ol class="arabic"><li><p>is a result of our actions</p></li><li><p>organizational structure influences how we code</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>I can&#8217;t wait that long for extra sever so&#8230;&#8203;</p></li><li><p>no DBAs, so I&#8217;ll solve this in code</p></li><li><p>usually I&#8217;d collect data to create user persona but&#8230;&#8203;</p></li></ol></div></li><li><p>is a result of choices made (tools, libs, tech-debt&#8230;&#8203;)</p></li></ol></div></section><section id="complexity_2" data-background-color="red"><h2>Complexity</h2><div class="olist arabic"><ol class="arabic"><li><p>should be reduced overall</p></li><li><p>essential may be hard to do so</p></li><li><p>accidental therefore should be eliminated all the more</p></li></ol></div></section><section id="crc_cards"><h2>CRC cards</h2><div class="dlist"><dl><dt class="hdlist1">CRC </dt><dd><p>Class Responsibility Collaborators, modelling technique from XP, which just a bit fails with the responsibility part IMO, at least the way it was defined back when XP emerged</p></dd></dl></div></section><section><div class="imageblock" style=""><img src="http://2.bp.blogspot.com/-ctdTfElMCbs/UR6hSQsVXFI/AAAAAAAAJww/o5AmfJ0b1HE/s1600/Farming+CRC+Cards.jpg" alt="Farming+CRC+Cards"></div></section><section id="problems_with_crc"><h2>Problems with CRC?</h2><div class="olist arabic"><ol class="arabic"><li><p>responsibility is not a list of attributes or methods</p></li><li><p>should not be left empty</p></li><li><p>holds value as a responsibility means failing to encapsulate</p></li><li><p>doesn&#8217;t scale</p></li></ol></div></section><section id="universal_modelling_language"><h2>Universal Modelling Language</h2><div class="olist arabic"><ol class="arabic"><li><p>a standard borne from 3 - agreeably! :O</p></li><li><p>extensible with various diagrams and extensions if needed</p></li></ol></div></section><section id="problems_with_uml"><h2>Problems with UML?</h2><div class="olist arabic"><ol class="arabic"><li><p>unwieldy - tools were rather heavyweight</p></li><li><p>hermetic - explain stereotype to a client</p></li><li><p>not simple - which diagram to choose from 15 types?</p></li></ol></div></section><section id="recently_c4"><h2>Recently C4</h2><div class="olist arabic"><ol class="arabic"><li><p>but that&#8217;s recent (fairly, 2011/2012 or so IIRC)</p></li><li><p>doesn&#8217;t address Conway&#8217;s law</p></li><li><p>not very pattern-oriented</p></li><li><p>UML distilled and simplified</p></li><li><p>lightweight - has its advantages</p></li></ol></div></section><section id="old_techniques"><h2>Old techniques</h2><div class="olist arabic"><ol class="arabic"><li><p>storytelling</p></li><li><p>customer interviews</p></li><li><p>requirement discovery</p></li></ol></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">Chaos reports: user interaction and requirements!</td></tr></table></div></section><section id="business_it"><h2>Business - IT</h2><div class="olist arabic"><ol class="arabic"><li><p>business talks in estimates (commitments)</p></li><li><p>IT talks in estimates (guesses)</p></li><li><p>different jargon (may well not understand each other)</p></li></ol></div></section><section id="dysfunctions_of_a_team"><h2>5 dysfunctions of a team</h2><div class="imageblock" style=""><img src="./img/Modelling_5Dysfunctions.png" alt="Modelling 5Dysfunctions"></div></section><section id="conways_law"><h2>Conway&#8217;s law</h2><div class="quoteblock"><blockquote>organizations which design systems &#8230;&#8203; are constrained to produce designs which are copies of the communication structures of these organizations.</blockquote><div class="attribution"><cite>Melvin Conway</cite><br>&#8212; Conway's Law</div></div>
<div class="paragraph"><p><a href="https://en.wikipedia.org/wiki/Conway%27s_law">Wikipedia EN</a></p></div></section><section id="to_which_ddd_says"><h2>To which DDD says</h2><div class="paragraph"><p><strong>everything can be addressed, if we speak same language as business does</strong></p></div></section><section id="structured_programming"><h2>Structured programming</h2><div class="paragraph"><p>yeah, before OOA/OOD/OOP even - we did programming then! ;-)</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>coupling (Larry Constantine, late 1960', Structured Design)</p></li><li><p>cohesion (Larry Constantine, late 1960', Structured Design)</p></li><li><p><strong>Connascence</strong> (Meilir Page-Jones, 1992, Comparing techniques by means of encapsulation and connascence)</p></li></ol></div></section><section id="coupling"><h2>Coupling</h2><div class="dlist"><dl><dt class="hdlist1">Tight / Loose Coupling </dt><dd><p>degree of procedures' (later also object&#8217;s) interwovenness, tells how dependent modules are of each other</p></dd></dl></div></section><section id="cohesion"><h2>Cohesion</h2><div class="dlist"><dl><dt class="hdlist1">High / Low Cohesion </dt><dd><p>how similar are methods of a given objects / procedure gathered in a given module</p></dd></dl></div></section><section><div class="imageblock" style=""><img src="./img/coupling-sketches-cropped-MatthewKR.png" alt="coupling sketches cropped MatthewKR"></div>
<div class="imageblock" style=""><img src="./img/cohesion_tapez_wordpress.jpg" alt="cohesion tapez wordpress"></div></section><section id="its_all_very_well_but"><h2>It&#8217;s all very well but&#8230;&#8203;</h2><div class="paragraph"><p>This actually pushes the problem down to a module.</p></div>
<div class="paragraph"><p><a href="https://dzone.com/articles/coupling-and-cohesion-failed" class="bare">https://dzone.com/articles/coupling-and-cohesion-failed</a></p></div></section><section id="connascence"><h2>Connascence</h2><div class="quoteblock"><blockquote>two components are connascent if a change in one would require the other to be modified in order to maintain the overall correctness of the system</blockquote><div class="attribution"><cite>Connascence</cite><br>&#8212; Wikipedia</div></div></section><section id="connascence_defined"><h2>Connascence defined</h2><div class="quoteblock"><blockquote>The ideals of low coupling and high cohesion now generalize beyond structured design and yield a statement that is applicable to object-oriented design (or indeed to any future design paradigm with partitioning, encapsulation and visibility rules):</blockquote><div class="attribution"><cite>his paper on connascence</cite><br>&#8212; Meilir Page-Jones</div></div></section><section><div class="quoteblock"><blockquote>Eliminate any unnecessary connascence and then minimize connascence across encapsulation boundaries by maximizing connascence within encapsulation boundaries.</blockquote><div class="attribution"><cite>his paper on connascence</cite><br>&#8212; Meilir Page-Jones</div></div></section><section id="good_design_metrics_and_standards_then"><h2>Good design metrics and standards then?</h2><div class="olist arabic"><ol class="arabic"><li><p>failed (coupling, cohesion)</p></li><li><p>not marketed enough (connascence - a shame)</p></li><li><p>were not that great for a larger projects (CRC cards)</p></li><li><p>were a standard, but a bit scary / unwieldy (it&#8217;s you, UML)</p></li></ol></div>
<div class="paragraph"><p>We&#8217;re pretty much left with storytelling, interviews, reqs discovery etc.</p></div></section><section id="what_ddd_offers"><h2>What DDD offers?</h2><div class="olist arabic"><ol class="arabic"><li><p>tactics &amp; strategy</p></li><li><p>event storming</p></li><li><p>whirlpool</p></li><li><p>context mapping (no, not the UI/UX one, this one&#8217;s older)</p></li></ol></div>
<div class="paragraph"><p>and new building blocks!</p></div></section><section id="tactics_and_strategy"><h2>Tactics and strategy?</h2><div class="imageblock" style=""><img src="./img/DDD_Modelling.jpeg" alt="DDD Modelling"></div></section></section>
<section><section id="ddd_tactical_bricks"><h2>DDD tactical bricks</h2><div class="imageblock" style=""><img src="./img/DDD_Building_Blocks.png" alt="DDD Building Blocks"></div></section><section id="value_objects"><h2>Value Objects</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>Wrappers, Containers - great for refactoring</p></li><li class="fragment"><p>a design pattern</p></li><li class="fragment"><p>first step when introducing DDD</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>take a bunch of primitives reflecting a concept</p></li><li><p>give them a name / codify as a type</p></li></ol></div></li><li class="fragment"><p><strong>no identity</strong>, not unique</p></li></ol></div></section><section id="vo_implementations"><h2>VO implementations</h2><div class="ulist"><ul><li><p><code>PhoneNumber</code> or a <code>PostalCode</code></p></li><li><p>often immutable</p></li><li><p>often in method parameters</p></li></ul></div></section><section id="entities"><h2>Entities</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p><strong>have identity</strong>, we compare them using it</p></li><li class="fragment"><p>our crucial concepts are most likely Entities</p></li><li class="fragment"><p>similar to EJB or DB entities but POJOs</p></li></ol></div></section><section id="aggregates"><h2>Aggregates</h2><div class="olist arabic"><ol class="arabic"><li><p>object graphs and/or groups (of VOs and entities)</p></li><li><p>untouchable, immutable - outside of it you work on copies</p></li><li><p>this we use to model our domain</p></li></ol></div></section><section id="aggregate_root"><h2>Aggregate root</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>root of the aggregates serves as point of entry</p></li><li class="fragment"><p>said root is an entity and contains operations on the aggregate</p></li><li class="fragment"><p>ensures data correctness and consistency through its operations</p></li><li class="fragment"><p>keeps system invariants</p></li><li class="fragment"><p>uses delegation and composition</p></li><li class="fragment"><p>this is why we have rich domain model</p></li></ol></div></section><section><div class="imageblock" style=""><img src="./img/DDD_Aggregate.gif" alt="DDD Aggregate"></div></section><section id="system_invariants"><h2>System invariants</h2><div class="olist arabic"><ol class="arabic"><li><p>if A grows, B decreases</p></li><li><p>you can&#8217;t do X twice in a row</p></li></ol></div></section><section id="repositories"><h2>Repositories</h2><div class="olist arabic"><ol class="arabic"><li><p>realizes persistence</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>works with infra-objects, like DAO, ORMs code</p></li><li><p>abstracts away the specifics</p></li><li><p>encapsulates data access and related logic</p></li></ol></div></li><li><p>nowadays in some cases interchangeable with DAO</p></li><li><p>a design pattern, that introduces a new layer</p></li></ol></div></section><section id="domain_services"><h2>Domain Services</h2><div class="paragraph"><p>for operations that don&#8217;t belong to any entity - and hence to no aggregates either</p></div></section><section id="factories"><h2>Factories</h2><div class="olist arabic"><ol class="arabic"><li><p>produce aggregates, ensuring their correctness</p></li><li><p>codifies creation logic, so usually some construction DPs are involved</p></li><li><p>increases testability, decreases complexity, extracts creational details</p></li></ol></div></section><section id="advanced_building_bricks"><h2>Advanced building bricks</h2><div class="olist arabic"><ol class="arabic"><li><p>sagas</p></li><li><p>specifications</p></li><li><p>policies</p></li><li><p>services</p></li></ol></div>
<div class="paragraph"><p>Not today, but do read about them</p></div></section></section>
<section><section id="strategic_design"><h2>Strategic design</h2><div class="imageblock" style=""><img src="./img/DDD_StrategicPatterns.png" alt="DDD StrategicPatterns"></div></section><section id="bounded_context_then"><h2>Bounded Context then?</h2><div class="dlist"><dl><dt class="hdlist1">Bounded Context </dt><dd><p>The setting in which a word or a statement appears that determines its meaning</p></dd></dl></div>
<div class="paragraph"><p>Eric Evans would say: cannot change the meaning</p></div></section><section id="travelling_context_map"><h2>Travelling context map</h2><div class="paragraph"><p>Draw what you know. Send to next person and ask him to fill something till <em>insert date here</em>. Rinse and repeat.</p></div></section><section><div class="imageblock" style=""><img src="./img/DDD_BoundedContext.jpg" alt="DDD BoundedContext"></div></section><section><div class="imageblock" style=""><img src="./img/DDD_BoundedContextRevealed.png" alt="DDD BoundedContextRevealed"></div></section><section id="name_all_bounded_contexts"><h2>Name all Bounded Contexts</h2><div class="quoteblock"><blockquote>Bounded contexts should have a name so that you can talk about them.</blockquote><div class="attribution">&#8212; Eric Evans</div></div></section><section id="why_bounded"><h2>Why "Bounded"?</h2><div class="paragraph"><p>Separates on multiple levels:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>mental - different thinking</p></li><li><p>architectural - different system invariants or requirements</p></li><li><p>organizational - different teams, departments, locations</p></li><li><p>vocabulary - same term has different meaning</p></li><li><p>code - same object has different fields/methods</p></li></ol></div></section><section id="between_contexts"><h2>Between contexts</h2><div class="olist arabic"><ol class="arabic"><li><p>Distilling domains</p></li><li><p>Drawing context map</p></li><li><p>Identifying contexts otherwise</p></li></ol></div>
<div class="paragraph"><p>allows seeing their relationships</p></div></section><section id="sp_continuous_integration"><h2>SP Continuous Integration</h2><div class="olist arabic"><ol class="arabic"><li><p>Integrate people as you can: co-location, ubiquitous language, share teams special know-hows with others</p></li><li><p>Requires one manager for all teams</p><div class="dlist"><dl><dt class="hdlist1">TIP: SP </dt><dd><p>here: strategic pattern</p></dd></dl></div></li></ol></div></section><section id="sp_anti_corruption_layer_acp"><h2>SP Anti-corruption layer, ACP</h2><div class="olist arabic"><ol class="arabic"><li><p>usually via proxy</p></li><li><p>translation / protection layer</p></li><li><p>you shall not pass, you abstraction from another bounded context you</p></li></ol></div></section><section id="sp_shared_kernel"><h2>SP Shared kernel</h2><div class="olist arabic"><ol class="arabic"><li><p>if shared DB - wrong</p></li><li><p>if shared aspect - all right</p></li><li><p>partnership between teams needed</p></li></ol></div></section><section id="sp_separate_ways"><h2>SP Separate ways</h2><div class="olist arabic"><ol class="arabic"><li><p>independent teams, independent software</p></li></ol></div></section><section id="sp_big_ball_of_mud"><h2>SP Big Ball of Mud</h2><div class="olist arabic"><ol class="arabic"><li><p>happens to the best of us</p></li><li><p>just isolate it and make sure it doesn&#8217;t contaminate others</p></li></ol></div>
<div class="admonitionblock caution"><table><tr><td class="icon"><i class="fa fa-fire" title="Caution"></i></td><td class="content">did someone just said "integration deadline"?</td></tr></table></div></section><section id="sp_conformist"><h2>SP Conformist</h2><div class="olist arabic"><ol class="arabic"><li><p>one team must conform to the other</p></li><li><p>sucks to be on that team if the others are not playing nice</p></li><li><p>ACL all the things!</p></li></ol></div></section><section id="sp_customersupplier"><h2>SP Customer/Supplier</h2><div class="olist arabic"><ol class="arabic"><li><p>fairly straightforward relationship</p></li><li><p>web-services are a fine example</p></li></ol></div></section></section>
<section><section id="distilling_the_domain_core"><h2>Distilling the domain: core</h2><div class="dlist"><dl><dt class="hdlist1">Core Domain </dt><dd><p>if you don&#8217;t have it, you don&#8217;t have a product</p></dd></dl></div><div class="quoteblock"><blockquote>Core Domain is something that directly traces to the business strategy, to the organization strategy</blockquote><div class="attribution"><cite>Strategic Design</cite><br>&#8212; Eric Evans</div></div><div class="paragraph"><p>Hard to spot without answering "how the org wants to use software to leverage their strategy?"</p></div></section><section id="to_distill_ask_yourself" data-background-color="red"><h2>To distill, ask yourself</h2><div class="paragraph"><p>why write and NOT buy or outsource?</p></div></section><section id="generic_domain"><h2>Generic domain</h2><div class="olist arabic"><ol class="arabic"><li><p>accounting, SRP - unless you&#8217;re in accounting of course</p></li><li><p>share/like/social integration - unless you sell it</p></li><li><p>off the shelf, outsource - sure</p></li></ol></div></section><section id="supporting_domain"><h2>Supporting domain</h2><div class="olist arabic"><ol class="arabic"><li><p>ranking of a buyer on Allegro - core</p></li><li><p>ranking of a product on Amazon - support</p></li></ol></div>
<div class="admonitionblock caution"><table><tr><td class="icon"><i class="fa fa-fire" title="Caution"></i></td><td class="content">it changes with time, in few years the classification may differ</td></tr></table></div>
<div class="admonitionblock note"><table><tr><td class="icon"><i class="fa fa-info-circle" title="Note"></i></td><td class="content">if you don&#8217;t differ on core, support is what makes/breaks the deal</td></tr></table></div></section></section>
<section><section id="context_mapping"><h2>Context mapping</h2><div class="paragraph"><p><a href="https://youtu.be/vwr2wAclIwg?t=5" class="bare">https://youtu.be/vwr2wAclIwg?t=5</a></p></div></section><section id="points"><h2>Points</h2><div class="olist arabic"><ol class="arabic"><li><p>terms change their meanings between contexts, but NOT inside</p></li><li><p>no leaks - context dictates what you mean when you say "student"</p></li><li><p>separation of concerns</p></li><li><p>YAGNI</p></li><li><p>context map makes the boundaries explicit</p></li></ol></div></section><section id="examples_how_context_matters"><h2>Examples how context matters</h2><div class="olist arabic"><ol class="arabic"><li><p><em>Census System</em> – <code>Address</code> is unique, so an entity</p></li><li><p><em>Book Rental</em> - <code>Address</code> is just a part of <code>LibraryUser</code>, so a VO</p></li><li><p><em>Student</em> in <em>financial</em> context has a name, surname, index number and an account.</p></li><li><p><em>Student</em> in <em>student records</em> has no bank account, but has courses and grades</p></li><li><p><em>Account</em> in <em>profiling</em> and in <em>payments</em></p></li></ol></div></section><section id="detailed_walkthrough"><h2>Detailed walkthrough</h2><div class="paragraph"><p><a href="https://www.infoq.com/articles/ddd-contextmapping/" class="bare">https://www.infoq.com/articles/ddd-contextmapping/</a></p></div></section></section>
<section><section id="whirlpool"><h2>Whirlpool</h2><div class="dlist"><dl><dt class="hdlist1">Whirlpool </dt><dd><p>in DDD, whirlpool is an approach to producing software, which offers an iterative process with 3 steps: scenario, model and finally code probe (here loop restarts). Whirlpool focuses on creating and revising a dictionary throughout the entire process.</p></dd></dl></div></section><section><div class="imageblock" style=""><img src="./img/DDD_Model_Whirlpool.png" alt="DDD Model Whirlpool"></div></section><section id="about"><h2>About</h2><div class="olist arabic"><ol class="arabic"><li><p>it&#8217;s called 'model exploration' technique</p></li><li><p>it uses storytelling and customer interviews</p></li><li><p>mistakes are taken into account through iterations</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>new scenarios should unearth them</p></li><li><p>new insights yield better questions and vocab</p></li></ol></div></li><li><p>obviously dependent on domain experts available</p></li></ol></div></section><section id="when_the_language_is_missing"><h2>When the language is missing?</h2><div class="olist arabic"><ol class="arabic"><li><p>team talks about <code>FakeOrder</code> or <code>TempItem</code> (no relation to business domain)</p></li><li><p>Scrum Velocity drops, lavaflow kicks in</p></li><li><p>we start hacking around our too complex model</p></li><li><p>accidental complexity rises, so does technical debt</p></li></ol></div></section><section id="how_we_build_the_language"><h2>How we build the language</h2><div class="olist arabic"><ol class="arabic"><li><p>expert and us flesh out a story - business processes descriptions</p></li><li><p>model is built, with state changes</p></li><li><p>code probe delivers services, class headers - walking skeleton approach</p></li><li><p>we formalize the scenario through live docs - BDD tests</p></li></ol></div></section><section id="formalizing_our_code_probed_scenario"><h2>Formalizing our code-probed scenario</h2><div class="ulist"><ul><li><p>BDD and acceptance scenario</p></li><li><p><code>Given</code> (Expert) - <code>When</code> (Programmer) - <code>Then</code> (Expert)</p></li></ul></div></section></section>
<section><section id="event_storming" data-background-color="green"><h2>Event storming</h2><div class="paragraph"><p>or how to use post-its for everything</p></div></section><section id="most_important_slide_here" data-background-color="red"><h2>Most important slide here!</h2><div class="paragraph"><p>don&#8217;t pull a post-it in any other way than left to right, parallel to glued edge</p></div>
<div class="literalblock"><div class="content"><pre>God forbid bottom-up (physics will punish you if you do)!</pre></div></div>
<div class="admonitionblock important"><table><tr><td class="icon"><i class="fa fa-exclamation-circle" title="Important"></i></td><td class="content">this is THE most important slide in your entire life. Epic, isn&#8217;t it?</td></tr></table></div></section><section id="gather_the_right_people"><h2>Gather the right people</h2><div class="olist arabic"><ol class="arabic"><li><p>who has the knowledge</p></li><li><p>different teams</p></li><li><p>mesh them together</p></li></ol></div></section><section id="steps"><h2>Steps</h2><div class="paragraph"><p><a href="https://en.wikipedia.org/wiki/Event_storming" class="bare">https://en.wikipedia.org/wiki/Event_storming</a></p></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">there&#8217;s more than 4 steps but we don&#8217;t have time</td></tr></table></div></section></section>
<section><section id="modelling_problems_and_ddd_then"><h2>Modelling problems and DDD then</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>silos / Conway&#8217;s law within org</p></li><li class="fragment"><p>business to IT communication</p></li><li class="fragment"><p>measuring / testing the model</p></li><li class="fragment"><p>transition from model to code</p></li><li class="fragment"><p>fishing for facts to model / domain know-how</p></li><li class="fragment"><p>simplifying the domain</p></li></ol></div></section><section id="communication"><h2>Communication</h2><div class="olist arabic"><ol class="arabic"><li><p>unambiguous language</p></li><li><p>ubiquitous language</p></li><li><p>contexts, bounded</p></li><li><p>solved</p></li></ol></div></section><section id="conways_law_2"><h2>Conway&#8217;s law</h2><div class="olist arabic"><ol class="arabic"><li><p>strategic patterns</p></li><li><p>context mapping for bounded contexts</p></li><li><p>solved</p></li></ol></div></section><section id="good_modelling_metrics"><h2>good modelling metrics</h2><div class="olist arabic"><ol class="arabic"><li><p>no communication problems</p></li><li><p>little / no primitives in code</p></li><li><p>connascence</p></li><li><p>solved</p></li></ol></div></section><section id="testing_the_model"><h2>testing the model</h2><div class="olist arabic"><ol class="arabic"><li><p>whirlpool</p></li><li><p>TDD, BDD, ATDD</p></li><li><p>testing bounded contexts</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>in isolation</p></li><li><p>as black boxes if needed</p></li></ol></div></li></ol></div></section><section id="from_model_to_code"><h2>from model to code</h2><div class="olist arabic"><ol class="arabic"><li><p>tactical patterns</p></li><li><p>building blocks</p></li><li><p>solved</p></li></ol></div></section><section id="domain_complexity"><h2>domain complexity</h2><div class="olist arabic"><ol class="arabic"><li><p>smaller accidental - we model less</p></li><li><p>essential may be reduced by distilling the domain</p></li><li><p>building blocks / tactical patterns</p></li><li><p>isolation with layers / boundaries</p></li><li><p>solved</p></li></ol></div></section><section id="fishing_for_domain_knowledge"><h2>fishing for domain knowledge</h2><div class="olist arabic"><ol class="arabic"><li><p>event storming</p></li><li><p>whirlpool</p></li><li><p>old techniques still valid</p></li><li><p>solved</p></li></ol></div></section><section id="questions_3"><h2>Questions?</h2><div class="imageblock" style=""><img src="./img/question-mark.jpg" alt="question mark"></div></section></section>
<section><section id="which_model_to_choose"><h2>Which model to choose?</h2><div class="paragraph"><p>And which dominates in practice?</p></div></section><section id="anemic_model_advantages"><h2>Anemic model advantages</h2><div class="ulist"><ul><li class="fragment"><p>always clear where to put what</p></li><li class="fragment"><p>easy code generation (hundreds of classes - sure)</p></li><li class="fragment"><p>IDE generates get/set pairs for ya</p></li><li class="fragment"><p>tools can work on this code automatically</p></li><li class="fragment"><p>coding follows rules</p></li></ul></div></section><section id="anemic_model_disadvantages"><h2>Anemic model disadvantages</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>tech-packages screw encapsulation</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p><code>default</code> was never meant to be <code>public</code></p></li><li><p>functional packages mean package access is fine</p></li><li><p>everything to everything, so why not call what shouldn&#8217;t be called?</p></li></ol></div></li><li class="fragment"><p>no behaviours, just state manipulation, domain expresses nothing</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>changing behaviours is constant, but with state manipulation?</p></li></ol></div></li></ol></div></section><section id="a_java_example"><h2>A Java example</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kn">package</span> <span class="tok-nn">com.agency.recruitment.ta</span><span class="tok-o">;</span>

<span class="tok-cm">/**</span>
<span class="tok-cm"> * Simplified from original</span>
<span class="tok-cm"> **/</span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Acquisition</span> <span class="tok-o">{</span>

    <span class="tok-c1">// cut</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">close</span><span class="tok-o">(</span><span class="tok-cm">/*5 params here*/</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-c1">// null-checks and other defensive mechanism, FF and the like</span>
        <span class="tok-n">AgencySession</span> <span class="tok-n">agencySession</span> <span class="tok-o">=</span> <span class="tok-n">SessionManager</span><span class="tok-o">.</span><span class="tok-na">getSession</span><span class="tok-o">();</span>
        <span class="tok-n">CurrentUser</span> <span class="tok-n">cu</span> <span class="tok-o">=</span> <span class="tok-n">agencySession</span><span class="tok-o">.</span><span class="tok-na">getCurrentUserPrincipal</span><span class="tok-o">().</span><span class="tok-na">getCurrentUser</span><span class="tok-o">();</span>
        <span class="tok-n">Candidate</span> <span class="tok-n">candidate</span> <span class="tok-o">=</span> <span class="tok-n">cu</span><span class="tok-o">.</span><span class="tok-na">getRecentItems</span><span class="tok-o">().</span><span class="tok-na">getVacancy</span><span class="tok-o">().</span><span class="tok-na">getCandidate</span><span class="tok-o">();</span>

        <span class="tok-n">Employee</span> <span class="tok-n">employee</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Employee</span><span class="tok-o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setFirstName</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getFirstName</span><span class="tok-o">());</span>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setLastName</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getLastName</span><span class="tok-o">());</span>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setArchivingPolicy</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getArchivingPolicy</span><span class="tok-o">());</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setCurrentRate</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getCurrentRate</span><span class="tok-o">());</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setEmploymentType</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getEmploymentType</span><span class="tok-o">());</span> <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setPermanentEmployment</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">isPermanentEmployment</span><span class="tok-o">());</span>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setJobTitle</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getJobTitle</span><span class="tok-o">());</span> <i class="conum" data-value="6"></i><b>(6)</b>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setJobSeniority</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getJobSeniority</span><span class="tok-o">());</span>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setDepartment</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getDepartment</span><span class="tok-o">());</span> <i class="conum" data-value="7"></i><b>(7)</b>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setCompany</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getCompany</span><span class="tok-o">());</span>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setCountry</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getCountry</span><span class="tok-o">());</span>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setCity</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getCity</span><span class="tok-o">());</span>
        <span class="tok-kt">boolean</span> <span class="tok-n">wasClosed</span> <span class="tok-o">=</span> <span class="tok-n">cu</span><span class="tok-o">.</span><span class="tok-na">getRecentItems</span><span class="tok-o">().</span><span class="tok-na">getVacancy</span><span class="tok-o">().</span><span class="tok-na">tryClosing</span><span class="tok-o">();</span>  <i class="conum" data-value="8"></i><b>(8)</b>
        <span class="tok-k">if</span> <span class="tok-o">(!</span><span class="tok-n">wasClosed</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="9"></i><b>(9)</b>
            <span class="tok-c1">// log, throw</span>
        <span class="tok-o">}</span>
        <span class="tok-c1">// method continues</span>
    <span class="tok-o">}</span></code></pre></div></div></section><section id="get_the_candidate"><h2>1. get the candidate</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="java language-java"><span></span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">close</span><span class="tok-o">(</span><span class="tok-cm">/*5 params here*/</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-c1">// null-checks and other defensive mechanism, FF and the like</span>
        <span class="tok-n">AgencySession</span> <span class="tok-n">agencySession</span> <span class="tok-o">=</span> <span class="tok-n">SessionManager</span><span class="tok-o">.</span><span class="tok-na">getSession</span><span class="tok-o">();</span>
        <span class="tok-n">CurrentUser</span> <span class="tok-n">cu</span> <span class="tok-o">=</span> <span class="tok-n">agencySession</span><span class="tok-o">.</span><span class="tok-na">getCurrentUserPrincipal</span><span class="tok-o">().</span><span class="tok-na">getCurrentUser</span><span class="tok-o">();</span>
        <span class="tok-n">Candidate</span> <span class="tok-n">candidate</span> <span class="tok-o">=</span> <span class="tok-n">cu</span><span class="tok-o">.</span><span class="tok-na">getRecentItems</span><span class="tok-o">().</span><span class="tok-na">getVacancy</span><span class="tok-o">().</span><span class="tok-na">getCandidate</span><span class="tok-o">();</span></code></pre></div></div>
<div class="olist arabic"><ol class="arabic"><li><p>returns <code>void</code>,</p></li><li><p>input has no candidates</p></li><li><p>classic trains, to get to the candidate</p></li></ol></div></section><section id="optional_setters"><h2>2. optional setters?</h2><div class="olist arabic"><ol class="arabic"><li><p>not here, not all, but some</p></li><li><p>slight variations in their calls? sure</p></li><li><p>parameterless c-tor call</p></li><li><p>little subclassing, so <code>EmployeeType</code> set regardless of <code>isPermanent</code></p></li></ol></div></section><section id="domain_problems_or_not"><h2>3. domain problems or not?</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>seniority <em>sometimes</em> would be in the job title</p></li><li class="fragment"><p>location wasn&#8217;t conceptualized, so we would set:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>country and region and city and postal-code sometimes</p></li><li><p>company and department</p></li></ol></div></li><li class="fragment"><p>rate was virtually always displayed in local rates</p></li><li class="fragment"><p>some customers had distributed departments, some had them 'uni-located'</p></li></ol></div></section><section id="what_do_those_mean"><h2>4. what do those mean?</h2><div class="paragraph"><p>vacancy, job offer, applicant, candidate, posting, advertisement, position</p></div></section><section id="alternative"><h2>Alternative?</h2><div class="paragraph"><p><code>Employee newHire = candidate.hire();</code></p></div>
<div class="olist arabic"><ol class="arabic"><li><p>same logic every time, codified</p></li><li><p>on a Candidate, not a side-effect when closing Acquisition</p></li><li><p>business language maps to object.method() - ubiquitous language</p></li><li><p>easier to grasp and learn the relevant domain process</p></li></ol></div></section><section id="anemic2rich_in_steps"><h2>Anemic2Rich in steps</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>identify concepts and wrap them</p></li><li class="fragment"><p>extract classes, note variants and deal with them</p></li><li class="fragment"><p>connected objects should stay connected - use aggregates</p></li><li class="fragment"><p>transform the aggregate A into aggregate B with a service if needed</p></li><li class="fragment"><p>stay within boundaries of your current context</p></li><li class="fragment"><p>go across boundaries according to proper procedures</p></li></ol></div></section><section id="id_the_concepts_location"><h2>Id the concepts - location</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="java language-java"><span></span>        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setCountry</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getCountry</span><span class="tok-o">());</span>
        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setCity</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getCity</span><span class="tok-o">());</span></code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kn">package</span> <span class="tok-nn">com.agency.recruitment.ta</span><span class="tok-o">;</span>

<span class="tok-kn">import</span> <span class="tok-nn">net.jcip.annotations</span><span class="tok-o">;</span>
<span class="tok-cm">/**</span>
<span class="tok-cm"> * Wraps around location-related items, to speed up search and codify related operations.</span>
<span class="tok-cm"> * Verifies if location is same as another</span>
<span class="tok-cm"> **/</span>
<span class="tok-nd">@Immutable</span>
<span class="tok-kd">class</span> <span class="tok-nc">Location</span> <span class="tok-o">{</span>

    <span class="tok-c1">// city, country, coordinates</span>

    <span class="tok-kt">boolean</span> <span class="tok-nf">isSame</span><span class="tok-o">(</span><span class="tok-n">Location</span> <span class="tok-n">other</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-k">return</span> <span class="tok-n">Objects</span><span class="tok-o">.</span><span class="tok-na">equals</span><span class="tok-o">(</span><span class="tok-n">city</span><span class="tok-o">,</span> <span class="tok-n">other</span><span class="tok-o">.</span><span class="tok-na">city</span><span class="tok-o">)</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">Objects</span><span class="tok-o">.</span><span class="tok-na">equals</span><span class="tok-o">(</span><span class="tok-n">country</span><span class="tok-o">,</span><span class="tok-n">other</span><span class="tok-o">.</span><span class="tok-na">country</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-kt">boolean</span> <span class="tok-nf">isWithinRadius</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">kms</span><span class="tok-o">,</span> <span class="tok-n">Location</span> <span class="tok-n">from</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-k">return</span> <span class="tok-n">compareByCoordinates</span><span class="tok-o">(</span><span class="tok-n">kms</span><span class="tok-o">,</span> <span class="tok-n">from</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre></div></div></section><section><div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>different names for same location - no longer a problem if this would be done cleverly</td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td>there are cases when candidates look for a job in a given radius</td></tr></table></div></section><section id="id_the_concepts_rate"><h2>Id the concepts - rate</h2><div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="java language-java"><span></span>        <span class="tok-n">employee</span><span class="tok-o">.</span><span class="tok-na">setCurrentRate</span><span class="tok-o">(</span><span class="tok-n">candidate</span><span class="tok-o">.</span><span class="tok-na">getCurrentRate</span><span class="tok-o">());</span></code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kn">package</span> <span class="tok-nn">com.agency.recruitment.ta</span><span class="tok-o">;</span>

<span class="tok-kn">import</span> <span class="tok-nn">net.jcip.annotations</span><span class="tok-o">;</span>

<span class="tok-cm">/**</span>
<span class="tok-cm"> * Codified rates, along with their currencies.</span>
<span class="tok-cm"> **/</span>
<span class="tok-nd">@Immutable</span>
<span class="tok-kd">class</span> <span class="tok-nc">Rate</span> <span class="tok-o">{</span>

    <span class="tok-n">BigDecimal</span> <span class="tok-n">amount</span><span class="tok-o">;</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">Currency</span> <span class="tok-n">currency</span><span class="tok-o">;</span> <i class="conum" data-value="2"></i><b>(2)</b>

    <i class="conum" data-value="3"></i><b>(3)</b>
<span class="tok-o">}</span></code></pre></div></div></section><section><div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>cause various dinars (and few others) don&#8217;t have 1:100 step</td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td>and now currency is unchangeable and may be immutable (like <code>enum</code>)</td></tr><tr><td><i class="conum" data-value="3"></i><b>3</b></td><td>possible to add currency conversions, raises, spreads, etc., just return a new <code>Rate</code> object, changed appropriately</td></tr></table></div></section><section id="ddd_advantages"><h2>DDD advantages</h2><div class="olist arabic"><ol class="arabic"><li><p>ubiquitous language</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>prose in the code</p></li><li><p>business talks, dev maps to object.method call</p></li></ol></div></li><li><p>rich domain model - has behaviours</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>easy reading / changing</p></li><li><p>harder for lazyness, fear or difficulties to make one reluctant to change the code</p></li></ol></div></li></ol></div></section><section id="ddd_drawbacks"><h2>DDD drawbacks</h2><div class="olist arabic"><ol class="arabic"><li><p>so strong as your domain expert&#8217;s knowledge - more of a limitation</p></li><li><p>most people stop at tactical level</p></li></ol></div></section><section id="what_to_choose"><h2>What to choose?</h2><div class="paragraph"><p>Team skills and domain expert know-how are primary factors.</p></div></section><section id="questions_4"><h2>Questions?</h2><div class="imageblock" style=""><img src="./img/question-mark.jpg" alt="question mark"></div></section></section>
<section><section id="sdlc"><h2>SDLC</h2><div class="dlist"><dl><dt class="hdlist1">SDLC </dt><dd><p>Software Development Life Cycle</p><div class="olist arabic"><ol class="arabic"><li><p>idea &#8594; requirements</p></li><li><p>design (modelling)</p></li><li><p>coding &#8594; testing</p></li><li><p>deployment</p></li><li><p>maintenance</p></li><li><p>sunsetting the product</p></li></ol></div></dd></dl></div></section><section id="and_ddd"><h2>And DDD?</h2><div class="paragraph"><p>All of them if we want. Most of them if done somewhat right.</p></div>
<div class="paragraph"><p>Symbiotic or friendly technologies and solutions may increase the effect.</p></div></section><section id="friendly_to_ddd"><h2>Friendly to DDD</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>layered architecture</p></li><li class="fragment"><p>hexagon architecture, or ports and adapters</p></li><li class="fragment"><p>well-done OOP (encapsulation, no/little state-sharing)</p></li><li class="fragment"><p>BDD, ABDD, ATDD and relevant libraries</p></li><li class="fragment"><p>microservices if done right (as well as our modelling)</p></li><li class="fragment"><p>strong domain experts</p></li></ol></div>
<div class="paragraph"><p>DDD actually is tech-agnostic.</p></div></section><section id="requirements_phase_and_ddd"><h2>Requirements phase and DDD</h2><div class="olist arabic"><ol class="arabic"><li><p>domain expert</p></li><li><p>distilling domain (core, support&#8230;&#8203;)</p></li><li><p>whirlpool, event storming</p></li><li><p>ubiquitous, unabiguous language</p></li></ol></div></section><section id="modelling_phase_and_ddd"><h2>Modelling phase and DDD</h2><div class="olist arabic"><ol class="arabic"><li><p>whirlpool</p></li><li><p>event storming</p></li><li><p>language</p></li><li><p>domain focus</p></li><li><p>rich domain model</p></li></ol></div></section><section id="coding"><h2>Coding&#8230;&#8203;</h2><div class="olist arabic"><ol class="arabic"><li><p>building blocks</p></li><li><p>patterns (tactical and design)</p></li></ol></div></section><section id="maintenance"><h2>Maintenance&#8230;&#8203;</h2><div class="olist arabic"><ol class="arabic"><li><p>clear code through building blocks</p></li><li><p>reflects domain so strong and protected invariants</p></li><li><p>domain truths usually coded down</p></li><li><p>bounded contexts and ACLs</p></li><li><p>strategic patterns help form cooperation rules between departments</p></li></ol></div></section><section id="testing_2"><h2>Testing&#8230;&#8203;</h2><div class="olist arabic"><ol class="arabic"><li><p>acceptance tests</p></li><li><p>behaviour-driven tests</p></li><li><p>'normal', unit- and or system tests</p></li><li><p>easier integration tests - bounded contexts</p></li></ol></div></section><section id="xdd"><h2>xDD</h2><div class="imageblock" style=""><img src="./img/DDD_TDD_BDD_intersection.png" alt="DDD TDD BDD intersection"></div></section><section id="deploy"><h2>Deploy&#8230;&#8203;</h2><div class="olist arabic"><ol class="arabic"><li><p>may be easier if contexts separated</p></li><li><p>with good µservices where 1 µserv. means 1 bounded context - easy</p></li><li><p>with distributed monolith usually somewhat harder</p></li><li><p>least gain per se</p></li></ol></div></section><section id="questions_5"><h2>Questions?</h2><div class="imageblock" style=""><img src="./img/question-mark.jpg" alt="question mark"></div></section></section>
<section><section id="summarizing"><h2>Summarizing</h2><div class="olist arabic"><ol class="arabic"><li><p>Helps through all the phases of SDLC</p></li><li><p>Strategic, tactical, language, model</p></li><li><p>Event storming, whirlpool, context map</p></li></ol></div></section><section id="new_way_if_thinking"><h2>New way if thinking</h2><div class="olist arabic"><ol class="arabic"><li><p>technology-agnostic</p></li><li><p>domain-centric</p></li><li><p>one language to rule them all</p></li></ol></div></section><section id="word_cloud"><h2>Word cloud</h2><div class="paragraph"><p>if existing project - get a word cloud from code to see concepts and try finding your ubiquitous language terms that way</p></div></section><section id="modelling_metrics"><h2>Modelling metrics</h2><div class="olist arabic"><ol class="arabic"><li><p><a href="https://lafkblogs.wordpress.com/dojo/object-callisthenics/">Callisthenics</a></p></li><li><p>Coupling, cohesion - meh</p></li><li><p>Connascence - better</p></li><li><p>Function-centric packages, not technical ones</p></li><li><p>Code is a prose</p></li><li><p>Good OOP</p></li></ol></div></section><section id="contexts"><h2>Contexts</h2><div class="olist arabic"><ol class="arabic"><li><p>have names</p></li><li><p>keep meaning true</p></li><li><p>are multi-level: org, mental, vocab&#8230;&#8203;</p></li><li><p>minimum aggregate is one entity</p></li><li><p>minimum context is one aggregate&#8230;&#8203;</p></li></ol></div></section><section id="ddd_tactics"><h2>DDD tactics</h2><div class="olist arabic"><ol class="arabic"><li><p>VO and Entities together create Aggregates</p></li><li><p>Factories encapsulate creation logic</p></li><li><p>Repositories abstract away data persistence access layer</p></li><li><p>There&#8217;s more</p></li></ol></div></section><section id="ddd_strategies"><h2>DDD strategies</h2><div class="olist arabic"><ol class="arabic"><li><p>org structure will influence your contexts</p></li><li><p>ubiquitous, unabimguous language</p></li><li><p>between contexts: relationships</p></li><li><p>Anti-Corruption Layer protects meaning from leaking or changing</p></li><li><p>Continuous Integration supports heavy and non-stop cooperation</p></li><li><p>Customer - Supplier is BAU</p></li><li><p>Conformist is when it goes to hell (bad Supplier)</p></li><li><p>There&#8217;s more</p></li></ol></div></section><section id="domains"><h2>Domains</h2><div class="olist arabic"><ol class="arabic"><li><p>core, support, generic</p></li><li><p>invest in core, buy generic</p></li><li><p>change in time</p></li><li><p>distilling may cut complexity</p></li></ol></div></section><section id="modelling_techniques"><h2>Modelling techniques</h2><div class="olist arabic"><ol class="arabic"><li><p>CRC, UML, C4</p></li><li><p>storytelling, requirements discovery, customer interview</p></li><li><p>whirlpool, context map, event storming</p></li></ol></div></section><section id="context_map"><h2>Context map</h2><div class="olist arabic"><ol class="arabic"><li><p>can be found after several aggregates are drawn</p></li><li><p>can be seen after event streams in event storming are done</p></li><li><p>makes concepts visible, can help with domain distilling</p></li></ol></div></section><section id="wandering"><h2>Wandering?</h2><div class="olist arabic"><ol class="arabic"><li><p>draw what you will</p></li><li><p>pass to next person so he can do the same</p></li><li><p>collect or wait once it gets back</p></li></ol></div></section><section id="archi_kata"><h2>Archi-kata</h2><div class="olist arabic"><ol class="arabic"><li><p>gather reqs for target architecture</p></li><li><p>group people, reserve 3 hours</p></li><li><p>each group designs and presents, questions are a must</p></li></ol></div>
<div class="paragraph"><p>You can also hire Tomek to facilitate</p></div></section><section id="coding_ddd"><h2>Coding DDD</h2><div class="olist arabic"><ol class="arabic"><li><p>start with VOs, identify - name - codify</p></li><li><p>entites next</p></li><li><p>aggregates are key</p></li><li><p>1 entity == min aggregates</p></li><li><p>1 aggregate == min bounded context</p></li><li><p>then services and more advanced tactics</p></li></ol></div></section><section id="better"><h2>Better?</h2><div class="olist arabic"><ol class="arabic"><li><p>start with modelling, it&#8217;s number 1</p></li><li><p>context map - distill domains</p></li><li><p>event storm - find aggregates, choke points</p></li><li><p>whirlpool - steady influx of terms to language</p></li><li><p>ubiquitous and unabigous language</p></li><li><p>perhaps hexagon, it won&#8217;t auto-evolve</p></li><li><p>test with TDD/ATDD/BDD to prove your model</p></li></ol></div></section><section id="questions_6"><h2>Questions?</h2><div class="imageblock" style=""><img src="./img/question-mark.jpg" alt="question mark"></div></section></section></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/head.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.js"></script><script>// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display controls in the bottom right corner
  controls: true,
  // Display a presentation progress bar
  progress: true,
  // Set a per-slide timing for speaker notes, null means none
  defaultTiming: null,
  // Display the page number of the current slide
  slideNumber: true,
  // Push each slide change to the browser history
  history: false,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  previewLinks: false,
  // Theme (e.g., beige, black, league, night, serif, simple, sky, solarized, white)
  // NOTE setting the theme in the config no longer works in reveal.js 3.x
  //theme: Reveal.getQueryHash().theme || 'white',
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: Reveal.getQueryHash().transition || 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/zoom-js/zoom.js', async: true },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/notes/notes.js', async: true }
  ]
});</script></body></html>