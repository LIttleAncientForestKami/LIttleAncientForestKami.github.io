<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="author" content="programowanie napędzane testami"><title>Test Driven Development</title><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport"><link href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/theme/black.css" id="theme"><link href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/css/zenburn.css" rel="stylesheet"><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/print/pdf.css" : "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script><!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/html5shiv.js"></script><![endif]--></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>Test Driven Development</h1><div class="preamble"><div class="paragraph"><p>TDD, powody, dowody, studia, mantra, prawa, sposoby, warianty, narzędzia, techniki</p></div></div><p class="author"><small>Tomasz Borek, @LAFK_pl,</small></p></section>
<section><section id="organizacja" data-background-color="green"><h2>Organizacja</h2><div class="paragraph"><p>Przerwy, tempo, pytania - jak chcecie</p></div></section><section id="o_mnie"><h2>O mnie</h2><div class="imageblock" style=""><img src="./img/LAFK_pl.png" alt="LAFK pl"></div></section><section id="ja_w_sieci"><h2>Ja w sieci</h2><div class="imageblock" style=""><img src="./img/LAFK_pl_wSieci.png" alt="LAFK pl wSieci"></div></section><section id="zlecenia"><h2>Zlecenia</h2><div class="olist arabic"><ol class="arabic"><li><p>audyty kodu, infrastruktury, komponentów, systemu</p></li><li><p>testy i audyty wydajności czy bezpieczeństwa</p></li><li><p>wchodzę w bazy danych, GNU/Linuxy i inne pochodne Unixa</p></li><li><p>programy na zlecenie</p></li><li><p>prelekcje, wykłady tematyczne, warsztaty, szkolenia</p></li></ol></div></section><section id="sages"><h2>Sages</h2><div class="olist arabic"><ol class="arabic"><li><p>Sages - Szkolenia i doradztwo IT dla profesjonalistów</p></li><li><p>dla firm w branży IT I spoza, jak długo w grę wchodzi tworzenie oprogramowania</p></li></ol></div></section><section id="misja"><h2>Misja?</h2><div class="quoteblock"><blockquote>Misją firmy jest wspieranie procesu projektowania, wytwarzania i wdrażania oprogramowania w przedsiębiorstwach i instytucjach publicznych, aby zminimalizować koszty, czas i ryzyko, związane z tymi przedsięwzięciami.</blockquote><div class="attribution"><cite>http://www.sages.com.pl/sages</cite><br>&#8212; Sages - o nas</div></div></section><section id="o_was"><h2>O Was?</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>Kim jesteś?</p></li><li class="fragment"><p>Twe imię?</p></li><li class="fragment"><p>Czemu jesteś tutaj?</p></li></ol></div></section></section>
<section><section id="o_szkoleniu_w_punktach"><h2>O szkoleniu w punktach</h2><div class="olist arabic"><ol class="arabic"><li><p>wprowadzenie, podstawy</p></li><li><p>narzędzia, techniki</p></li><li><p>zaawansowane - co: dalej, potem, następne<br>
&#8230;&#8203;</p></li></ol></div><div class="admonitionblock caution"><table><tr><td class="icon"><i class="fa fa-fire" title="Caution"></i></td><td class="content"><strong>Będziecie sobie rączki brudzić</strong></td></tr></table></div></section><section id="apki_w_gr_kto"><h2>Łapki w górę, kto</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>używa Eclipse</p></li><li class="fragment"><p>używa IntelliJ</p></li><li class="fragment"><p>używa czegoś innego (Android Studio, STS, Netbeans&#8230;&#8203;)</p></li></ol></div></section><section id="szkolenie_jest_dla_was" data-background-color="red"><h2>Szkolenie jest dla Was!</h2><div class="paragraph"><p>Jak w temacie. Jest dla Was. Was! Wyciągnijcie ile można!</p></div></section><section id="repeta_i_retro"><h2>Repeta i Retro</h2><div class="paragraph"><p>20 minut dziennie, 20 minut na koniec</p></div>
<div class="admonitionblock caution"><table><tr><td class="icon"><i class="fa fa-fire" title="Caution"></i></td><td class="content">będą kwizy, niniejszym ostrzegłem! :-)</td></tr></table></div></section><section id="retrospektywa_jedno"><h2>Retrospektywa jedno</h2><div class="paragraph"><p>Realia drugie. Nie chciałbym podczas retro słyszeć, że:</p></div>
<div class="olist arabic"><ol class="arabic"><li class="fragment"><p>brakowało mi X</p></li><li class="fragment"><p>może masz na slajdach, czekałem, ale nie masz</p></li><li class="fragment"><p>bo tam w pracę wpadłem i nie wiedziałem&#8230;&#8203; zapytaj!</p></li></ol></div>
<div class="admonitionblock important"><table><tr><td class="icon"><i class="fa fa-exclamation-circle" title="Important"></i></td><td class="content"><div class="title">Zmiana jest możliwa!</div><div class="paragraph"><p>Mogę zmienić slajdy! Tylko muszę wiedzieć dokładnie czego dusza chce.</p></div></td></tr></table></div></section><section id="pytania"><h2>Pytania?</h2><div class="imageblock" style=""><img src="./img/question-mark.jpg" alt="question mark"></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa fa-lightbulb-o" title="Tip"></i></td><td class="content">zwykle pojawia się przy okazji podsumowania. Czyli rzadko. Nie czekajcie nań!</td></tr></table></div>
<div class="admonitionblock caution"><table><tr><td class="icon"><i class="fa fa-fire" title="Caution"></i></td><td class="content">a jak nie będzie pytań&#8230;&#8203;</td></tr></table></div></section></section>
<section><section id="podstawy" data-background-color="green"><h2>Podstawy</h2><div class="paragraph"><p><a href="https://docs.google.com/presentation/d/1hBY9l5QQ9r7U5T3hGP3WHp8eIyfkkx5kw4UC2kpqQXo/edit?usp=sharing">Wprowadzenie</a></p></div><div class="paragraph"><p><a href="https://www.slideshare.net/TomekBorek/noc-informatyka-co-ja-wiem-o-testowaniu">Wersja PDF</a></p></div></section><section id="tdd"><h2>TDD?</h2><div class="dlist"><dl><dt class="hdlist1">TDD, Test Driven Development, Test Driven Design </dt><dd><p>technika programistyczna, pozwalająca by testy napędzały programowanie (lub, wedle niektórych, projektowanie), rozpropagowana przez Kenta Becka, pierwotnie jako jedna z technik XP, potem zaadoptowana do zwinnych metodyk. Polega na pisaniu testów przed pisaniem kodu produkcyjnego.</p></dd></dl></div></section><section id="klasyczna_mantra_tdd"><h2>Klasyczna mantra TDD</h2><div class="olist arabic"><ol class="arabic"><li><p>Red - zaczynamy od nieprzechodzącego testu</p></li><li><p>Green - doprowadzamy test do stanu zielonego, czyli piszemy tyle kodu, by test przeszedł</p></li><li><p>Refactor - zmieniamy kod, nie zmieniając zachowania, krok opcjonalny</p></li></ol></div>
<div class="paragraph"><p>Czerwone - Zielone - Refaktoryzacja, to klasyczna mantra TDD.</p></div></section><section id="prawa_tdd"><h2>3 prawa TDD</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>Piszesz kod produkcyjny tylko po to, by nieprzechodzący test zaczął przechodzić</p></li><li class="fragment"><p>Piszesz minimum testu jednostkowego by nie przeszło; błędy kompilacji znaczą, że nie przeszło</p></li><li class="fragment"><p>Piszesz minimum kodu produkcyjnego, by przeszedł test jednostkowy</p></li></ol></div>
<div class="paragraph"><p>Nie wolno pisać produkcyjnego kodu w innym celu lub dalej. Nie wolno pisać testów lub ich dopisywać PO osiągnięciu porażki.</p></div></section><section id="prawa_tdd_wg_wujka_boba"><h2>3 prawa TDD wg wujka Boba</h2><div class="imageblock" style=""><img src="./img/3LawsOfTDD-UncleBob.png" alt="http://butunclebob.com/ArticleS.UncleBob.TheThreeRulesOfTdd"></div></section><section id="demonstracja_fizzbuzz"><h2>Demonstracja: FizzBuzz</h2><div class="dlist"><dl><dt class="hdlist1">FizzBuzz </dt><dd><p>gra dla młodszych, by nauczyć ich liczenia. Dzieci krzyczą liczby, ale jeśli liczba podzielna jest przez 3, powinny krzyknąć <em>fizz</em> a jeśli przez 5 - <em>buzz</em>. Jeśli liczba podzielna jest przez 3 jak i przez 5 (np. 15), dziecko powinno powiedzieć <em>fizzbuzz</em>, stąd nazwa gry.</p></dd></dl></div></section><section id="wnioski_fizzbuzz_po_prostu"><h2>Wnioski: FizzBuzz po prostu</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>prosty problem można skiepścić</p></li><li class="fragment"><p>nie ma pewności czy to działa nawet wtedy</p></li><li class="fragment"><p>problem testować statyki, voidy (efekty uboczne)</p></li><li class="fragment"><p>nie testujemy Jawy (jak działa enum, komparator&#8230;&#8203;)</p></li><li class="fragment"><p>integracja z konsolą, wejściem, wyjściem :(</p></li></ol></div></section><section id="wnioski_fizzbuzztdd"><h2>Wnioski: FizzBuzzTDD</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>od jakiego testu zacząć?</p></li><li class="fragment"><p>klasy wejść: liczba, przez 3, przez 5, przez oba</p></li><li class="fragment"><p>grupy testów</p></li><li class="fragment"><p>parametryzacja rulez<br>
.</p></li></ol></div></section><section id="wnioski_asercje"><h2>Wnioski: asercje</h2><div class="olist arabic"><ol class="arabic"><li><p>co to jest asercja</p></li><li><p><code>assert</code> i <code>-ea</code></p></li><li><p>miękka i twarda asercja</p></li><li><p>dobry! komunikat o błędzie</p></li><li><p>ile asercji na jeden test?</p></li></ol></div></section><section id="wnioski_narzdzie_testowe"><h2>Wnioski: narzędzie testowe</h2><div class="olist arabic"><ol class="arabic"><li><p>asercje</p></li><li><p>identyfikacja metod testowych</p></li><li><p>odpalanie metod testowych</p></li><li><p>obsługa różnych wyników: sukces, porażka, ignorowanie, błąd</p></li></ol></div></section><section id="dlaczego_tdd_moe_ci_pomc"><h2>Dlaczego TDD może Ci pomóc</h2><div class="olist arabic"><ol class="arabic"><li><p>Na rozum</p></li><li><p>Inni mówią</p></li><li><p>Wg założeń</p></li><li><p>Zbadane efekty</p></li></ol></div></section><section id="na_rozum_brak_bdw"><h2>Na rozum - brak błędów!</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>4 do 1</p></li><li class="fragment"><p>koszt błędu</p></li></ol></div></section><section id="koszt_bdu"><h2>Koszt błędu?</h2><div class="quoteblock"><blockquote>The cost to fix an error found after product release was four to five times as much as one uncovered during design, and up to 100 times more than one identified in the maintenance phase.”</blockquote><div class="attribution"><cite>https://www.isixsigma.com/industries/software-it/defect-prevention-reducing-costs-and-enhancing-quality/</cite><br>&#8212; Systems Sciences Institute at IBM</div></div>
<div class="admonitionblock note"><table><tr><td class="icon"><i class="fa fa-info-circle" title="Note"></i></td><td class="content">Laurent Bossavit has a nice piece of writing which undermines this quote as something taken out of course notes (so pretty much stated in a lecture)!</td></tr></table></div></section><section><div class="imageblock" style=""><img src="./img/BugCostIBMSciencesInstitute.gif" alt="BugCostIBMSciencesInstitute"></div></section><section id="nasa_mariner_start_w_1962"><h2>Nasa Mariner - start w 1962</h2><div class="paragraph"><p>Rakieta na Wenus zbacza z kursu, niszczona 290s po starcie.</p></div>
<div class="quoteblock"><blockquote>One of the official reports was that the omission of a hyphen in coded computer instructions in the data editing program, resulted in incorrect guidance signals being sent to the spacecraft.</blockquote><div class="attribution"><cite>http://blog.celerity.com/the-true-cost-of-a-software-bug</cite><br>&#8212; Janet Leon's Celerity blog</div></div>
<div class="paragraph"><p>Koszt: 18+ mln $.</p></div></section><section id="ariane_5"><h2>Ariane 5</h2><div class="imageblock" style=""><img src="./img/ariane-rocket-cartoon.png" alt="ariane rocket cartoon"></div>
<div class="paragraph"><p>Koszt: 4 mln EURO.<br>
Źródło: Bereza-Jarociński i Szomański, Inżynieria Jakości.<br>
Obrazek za: CS Field Guide.</p></div></section><section id="toyota_lexus"><h2>Toyota Lexus</h2><div class="quoteblock"><blockquote>In August 2009 a Lexus ES350 suddenly accelerated out of control at speeds estimated to exceed 100 mph. One of the passengers called 911 and reported that the car had "no brakes." All four passengers were killed when the car crashed.</blockquote><div class="attribution"><cite>http://blog.celerity.com/the-true-cost-of-a-software-bug</cite><br>&#8212; Janet Leon's Celerity blog</div></div></section><section><div class="quoteblock"><blockquote>In November 2009, Toyota dealers were instructed to remove and shorten the gas pedals and to update the onboard computers with a new program that would override the electronic gas pedal when the brake pedal was pressed. Toyota ended up recalling more than 9 million cars worldwide in 2010, but it wasn&#8217;t because of a mechanical issue. The cars had a software bug that caused a lag in the anti-lock-brake system.</blockquote></div></section><section><div class="olist arabic"><ol class="arabic"><li><p>Koszt: 3 mld $ (odwołania, kampania nakłaniające do odwołań, itp.)</p></li><li><p>przeciętny samochód z wyższej półki teraz ma mln linii kodu</p></li></ol></div></section><section id="knight_capital"><h2>Knight Capital</h2><div class="quoteblock"><blockquote>In August 2012 Knight Capital Group Inc., one of America’s largest trading firms, mistakenly sent out more than four million stock orders in less than an hour. These orders should have been spread out over a period of days—and reversing the trades cost almost half a billion dollars.</blockquote><div class="attribution"><cite>http://blog.celerity.com/the-true-cost-of-a-software-bug</cite><br>&#8212; Janet Leon's Celerity blog</div></div></section><section><div class="paragraph"><p>Koszt: 440mln $, więcej niż grupa zarobiła w całym 2011.<br>
Zaktualizowali serwery. Poza jednym.</p></div></section><section id="podsumowanie"><h2>Podsumowanie</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>NASA pomija <code>-</code> w kodzie, rakieta za 18mln$ bum</p></li><li class="fragment"><p>NASA, stopy vs metry, prom nigdy nie ląduje</p></li><li class="fragment"><p>Ariane 5 - kod, którego nikt nie używa, detonuje rakietę, 4mln€</p></li><li class="fragment"><p>radioterapia śmiertelna bo zły if, umiera</p></li><li class="fragment"><p>Toyota Lexus - zabija 4 osoby softem, 3mld$ wymiana tegoż</p></li><li class="fragment"><p>Knight Capital - 1 serwer ze starym kodem - bankructwo (440mln$), więcej niż zarobili za cały rok 2011</p></li></ol></div></section><section id="zoono"><h2>Złożoność</h2><div class="olist arabic"><ol class="arabic"><li><p>przypadkowa</p></li><li><p>konieczna</p></li><li><p>im większa tym gorsza</p></li><li><p>FP &gt; OOP</p></li></ol></div></section><section id="zoono_cyklomatyczna"><h2>Złożoność cyklomatyczna</h2><div class="olist arabic"><ol class="arabic"><li><p>ścieżki przez kod</p></li><li><p>im więcej kodu tym gorzej</p></li><li><p>krótkie metody dobre bo testy, czytelność, wydajność, JIT</p></li></ol></div>
<div class="paragraph"><p><a href="http://www.visualcapitalist.com/millions-lines-of-code/" class="bare">http://www.visualcapitalist.com/millions-lines-of-code/</a></p></div></section><section id="inni_mwi"><h2>Inni mówią</h2><div class="olist arabic"><ol class="arabic"><li><p>czytelność</p></li><li><p>jakość, mniej defektów</p></li><li><p>lepszy projekt, API</p></li><li><p>niższy koszt zmian</p></li><li><p>dłuższy czas dowiezienia</p></li></ol></div></section><section id="rda"><h2>Źródła</h2><div class="olist arabic"><ol class="arabic"><li><p><a href="https://blog.acolyer.org/2017/06/13/a-dissection-of-the-test-driven-development-process-does-it-really-matter-to-test-first-or-test-last/" class="bare">https://blog.acolyer.org/2017/06/13/a-dissection-of-the-test-driven-development-process-does-it-really-matter-to-test-first-or-test-last/</a></p></li><li><p><a href="https://davenicolette.wordpress.com/2016/05/26/looking-at-tdd-through-a-lean-agile-lens/" class="bare">https://davenicolette.wordpress.com/2016/05/26/looking-at-tdd-through-a-lean-agile-lens/</a></p></li><li><p><a href="http://confessionsofanagilecoach.blogspot.com/2011/09/what-do-studies-say-about-agile.html?m=1" class="bare">http://confessionsofanagilecoach.blogspot.com/2011/09/what-do-studies-say-about-agile.html?m=1</a></p></li><li><p><a href="https://www.infoq.com/news/2009/03/TDD-Improves-Quality" class="bare">https://www.infoq.com/news/2009/03/TDD-Improves-Quality</a></p></li><li><p><a href="https://sewiki.iai.uni-bonn.de/_media/teaching/labs/xp/2012b/seminar/3-tdd.pdf" class="bare">https://sewiki.iai.uni-bonn.de/_media/teaching/labs/xp/2012b/seminar/3-tdd.pdf</a></p></li></ol></div></section><section id="problemy_z_tym_wszystkim" data-background-color="red"><h2>Problemy z tym wszystkim?</h2><div class="paragraph"><p><strong>badania powinny być powtarzalne!</strong></p></div>
<div class="olist arabic"><ol class="arabic"><li class="fragment"><p>jaki projekt i czemu robimy go dwa razy?</p></li><li class="fragment"><p>studenci a studenci, programiści a programiści</p></li><li class="fragment"><p>jak długo trzeba się uczyć by być dobrym w TDD?</p></li><li class="fragment"><p>weteran TDD a nowicjusz - wciąż to samo?</p></li><li class="fragment"><p>jak dany uczestnik jest "dobry w TDD"?</p></li><li class="fragment"><p>relacje to tylko relacje</p></li></ol></div></section><section id="to_dlaczego_tdd_moe_ci_pomc"><h2>To dlaczego TDD może Ci pomóc?</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>błędy</p></li><li class="fragment"><p>żywa, krzycząca dokumentacja</p></li><li class="fragment"><p>zrozumienie kodu przez Ciebie i przez innych</p></li><li class="fragment"><p>automatyzacja sprawdzeń</p></li><li class="fragment"><p>prostsza weryfikacja defektów</p></li></ol></div></section><section id="komunikacja_testami"><h2>Komunikacja testami</h2><div class="paragraph"><p>Ćwiczenie w grupach</p></div></section><section id="peny_cykl_tdd"><h2>Pełny cykl TDD</h2><div class="paragraph"><p>Klasyczna mantra nie jest kompletna i nie obejmuje niektórych przejść pomiędzy stanami</p></div>
<div class="paragraph"><p><a href="https://lafkblogs.wordpress.com/2013/08/29/full-tdd-cycle/" class="bare">https://lafkblogs.wordpress.com/2013/08/29/full-tdd-cycle/</a></p></div></section><section id="demonstracja_stosowanie_cyklu_tdd"><h2>Demonstracja: stosowanie cyklu TDD</h2><div class="olist arabic"><ol class="arabic"><li><p>test nie przechodzi</p></li><li><p>test przechodzi</p></li><li><p>poprawki, jeśli jest co</p></li></ol></div></section><section id="mechanika_tdd"><h2>Mechanika TDD</h2><div class="olist arabic"><ol class="arabic"><li><p>znamy cykl</p></li><li><p>jak wybrać następny test do zaimplementowania</p></li><li><p>nazewnictwo testów</p></li></ol></div></section><section id="nastpny"><h2>Następny!</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>co łatwe</p></li><li class="fragment"><p>losowo</p></li><li class="fragment"><p>co ważne</p></li><li class="fragment"><p>wg listy</p></li><li class="fragment"><p>wg ścieżki</p></li></ol></div></section><section id="demonstracja_stos"><h2>Demonstracja: stos</h2><div class="olist arabic"><ol class="arabic"><li><p>wg wariantów: co łatwe, wg ścieżki</p></li></ol></div></section><section id="nazwy"><h2>Nazwy</h2><div class="olist arabic"><ol class="arabic"><li><p>kluczowe</p></li><li><p>notacja wielbłąda</p></li><li><p>notacja węża</p></li><li><p>Java vs Python</p></li><li><p>should, test, given-then</p></li></ol></div></section><section id="szablony_testw"><h2>Szablony testów</h2><div class="olist arabic"><ol class="arabic"><li><p>AAA</p></li><li><p>GWT</p></li></ol></div></section><section id="wiczenie"><h2>Ćwiczenie:</h2><div class="paragraph"><p>Rzymski Kalkulator</p></div>
<div class="paragraph"><p>Jako rzymski księgowy, chciałbym mieć program do kalkulacji:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>I - II - III - IV - V - VI - VII - VIII - IX - X</p></li><li><p>X - XX - XXX - XL - L - LX - LXX - LXXX - XC - C</p></li><li><p>C M D</p></li></ol></div></section><section id="pytania_2"><h2>Pytania?</h2><div class="imageblock" style=""><img src="./img/question-mark.jpg" alt="question mark"></div></section></section>
<section><section id="narzdzia_i_techniki" data-background-color="green"><h2>Narzędzia i techniki</h2><div class="olist arabic"><ol class="arabic"><li><p>IDE</p></li><li><p>JUnit 4</p></li><li><p>TestNG</p></li><li><p>AssertJ</p></li><li><p>Mockito</p></li></ol></div></section><section id="na_start"><h2>Na start</h2><div class="olist arabic"><ol class="arabic"><li><p><a href="http://www.lafk.pl/advanced-testing-Java-preso/Zaawansowane%20Testowanie.html#/start" class="bare">http://www.lafk.pl/advanced-testing-Java-preso/Zaawansowane%20Testowanie.html#/start</a></p></li><li><p><a href="http://www.lafk.pl/advanced-test-tools/AdvancedTestingTools.html" class="bare">http://www.lafk.pl/advanced-test-tools/AdvancedTestingTools.html</a></p></li><li><p><a href="https://www.youtube.com/watch?v=CRznHrZqlzc" class="bare">https://www.youtube.com/watch?v=CRznHrZqlzc</a></p></li></ol></div></section><section id="ide"><h2>IDE</h2><div class="olist arabic"><ol class="arabic"><li><p>generacja kodu</p></li><li><p>skróty klawiszowe</p></li><li><p>refaktoryzacja</p></li><li><p>szablony</p></li><li><p>własne szablony</p></li></ol></div></section><section id="junit_4"><h2>JUnit 4</h2><div class="olist arabic"><ol class="arabic"><li><p><code>@Parameterized</code></p></li><li><p><code>@Theory</code></p></li><li><p><code>@Theory</code></p></li><li><p><code>@Rule</code></p></li><li><p><code>Assume</code></p></li></ol></div></section><section id="przykady"><h2>Przykłady</h2><div class="olist arabic"><ol class="arabic"><li><p><a href="https://github.com/tomekkaczanowski/junit-put-exercises" class="bare">https://github.com/tomekkaczanowski/junit-put-exercises</a></p></li></ol></div></section><section id="testng"><h2>TestNG</h2><div class="olist arabic"><ol class="arabic"><li><p>patrz prezka Tomka Kaczanowskiego</p></li><li><p>patrz dokumentacja</p></li><li><p>demo na żywo</p></li></ol></div></section><section id="assertj"><h2>AssertJ</h2><div class="olist arabic"><ol class="arabic"><li><p>patrz strona narzędzia</p></li><li><p>demo na żywo</p></li></ol></div></section><section id="maven"><h2>Maven</h2><div class="paragraph"><p>Maven SureFire i FailSafe</p></div></section></section>
<section><section id="podrabiane_obiekty"><h2>Podrabiane obiekty</h2><div class="olist arabic"><ol class="arabic"><li><p>Izolacja</p></li><li><p>Prościej</p></li><li><p>Unikanie komplikacji</p></li><li><p>Przegięcia:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>podróbmy wszystko</p></li><li><p>podróbmy VO</p></li><li><p>Testy współpracujących obiektów</p></li></ol></div></li></ol></div></section><section id="jak_podrabia"><h2>Jak podrabiać?</h2><div class="paragraph"><p>czyli jakie są rodzaje podróbek?</p></div>
<div class="olist arabic"><ol class="arabic"><li class="fragment"><p>wydmuszka</p></li><li class="fragment"><p>zaślepka</p></li><li class="fragment"><p>kadłub/szkielet</p></li><li class="fragment"><p>fałszywka</p></li><li class="fragment"><p>podróbka</p></li><li class="fragment"><p>szpieg</p></li></ol></div></section><section id="czym_to_si_rni"><h2>Czym to się różni?</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>wydmuszka - pusta w środku, nie wołaj</p></li><li class="fragment"><p>zaślepka - ślepe wołanie, nic nie robi</p></li><li class="fragment"><p>kadłub/szkielet - częściowa robota</p></li><li class="fragment"><p>fałszywka - coś zrobi, uproszczonego</p></li><li class="fragment"><p>podróbka - udaje prawdziwe</p></li><li class="fragment"><p>szpieg - owijka na obiekt z ekstra rzeczami</p></li></ol></div></section><section id="detale_wydmuszka"><h2>Detale: wydmuszka</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>wzorzec NullObject</p></li><li class="fragment"><p>rzuca wyjątki na implementacji</p></li><li class="fragment"><p>nie chcesz wołać metod, potrzebujesz po prostu obiektu</p></li></ol></div></section><section id="detale_zalepka"><h2>Detale: zaślepka</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>jak wydmuszka, ale bezpieczniejsza</p></li><li class="fragment"><p>return cokolwiek</p></li><li class="fragment"><p>jak wyżej, ale gdy jakieś wołanie się zdarzy</p></li></ol></div></section><section id="detale_kadubek"><h2>Detale: kadłubek</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>zostawiasz kadłub z klasy</p></li><li class="fragment"><p>wypełniasz części, które Ci są potrzebne</p></li><li class="fragment"><p>w sposób, jaki Ci pasuje</p></li></ol></div></section><section id="detale_faszywka"><h2>Detale: fałszywka</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>zwykle po prostu "słabsza" implementacja</p></li><li class="fragment"><p><code>DocGenerator</code> &#8594; <code>[Simple|Basic]DocGenerator</code></p></li><li class="fragment"><p>robi robotę, wystarczającą na potrzeby</p></li><li class="fragment"><p>ręczna robota</p></li></ol></div></section><section id="detale_podrbka"><h2>Detale: podróbka</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>bliska prawdziwemu obiektowi</p></li><li class="fragment"><p>większość lub wszystkie metody</p></li></ol></div></section><section id="detale_szpieg"><h2>Detale: szpieg</h2><div class="olist arabic"><ol class="arabic"><li class="fragment"><p>bierze prawdziwy obiekt</p></li><li class="fragment"><p>owija się wokół niego</p></li><li class="fragment"><p><em>rozmowa kontrolowana</em></p></li><li class="fragment"><p>wywołania są rejestrowane</p></li><li class="fragment"><p>przekazywane do adresata</p></li></ol></div></section></section>
<section><section id="terminy_sobie"><h2>Terminy sobie</h2><div class="paragraph"><p>a źródła sobie. Znajdziecie inne definicje, pisane przez ludzi płyciej lub głębiej znających temat.</p></div><div class="paragraph"><p>Tak naprawdę: testowe implementacje, obiekty do testów, podróbka, fałszywka.<br>
Termin <em>podróbka</em> może oznaczać wszystkie: kadłubek, szkielet, zaślepka, wydmuszka, szpieg, itp.</p></div><div class="admonitionblock important"><table><tr><td class="icon"><i class="fa fa-exclamation-circle" title="Important"></i></td><td class="content"><a href="https://martinfowler.com/articles/mocksArentStubs.html">Fowler o tym, że są dwie szkoły</a><br>
NOTE: <a href="https://www.youtube.com/watch?v=uVLJVCDjN7o">Mockito Mock vs Spy</a></td></tr></table></div></section><section id="biblioteki"><h2>Biblioteki?</h2><div class="paragraph"><p>Mockito.</p></div>
<div class="paragraph"><p>Ew. coś innego, jak np. EasyMock.</p></div></section><section id="rda_2"><h2>Źródła</h2><div class="olist arabic"><ol class="arabic"><li><p><a href="https://site.mockito.org/">Dokumentacja Mockito</a> i JavaDoc i wyjątki</p></li><li><p>Vogella ma dobre wprowadzenie: <a href="http://www.vogella.com/tutorials/Mockito/article.html" class="bare">http://www.vogella.com/tutorials/Mockito/article.html</a></p></li><li><p><a href="http://www.softwaretestingmagazine.com/videos/mockito-2-the-return-of-the-king/" class="bare">http://www.softwaretestingmagazine.com/videos/mockito-2-the-return-of-the-king/</a></p></li><li><p><a href="https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2" class="bare">https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2</a></p></li></ol></div></section><section id="zastosowania"><h2>Zastosowania</h2><div class="olist arabic"><ol class="arabic"><li><p>napędzane testami tworzenie warstwy dostępu do danych</p></li><li><p>napędzane testami tworzenie interfejsu użytkownika (GUI)</p></li></ol></div></section><section id="przykady_2"><h2>Przykłady</h2><div class="olist arabic"><ol class="arabic"><li><p><a href="https://github.com/ulisespulido/mockito-junit" class="bare">https://github.com/ulisespulido/mockito-junit</a></p></li><li><p><a href="https://github.com/in28minutes/spring-unit-testing-with-junit-and-mockito" class="bare">https://github.com/in28minutes/spring-unit-testing-with-junit-and-mockito</a></p></li></ol></div></section><section id="pytania_3"><h2>Pytania?</h2><div class="imageblock" style=""><img src="./img/question-mark.jpg" alt="question mark"></div></section></section>
<section><section id="obiektowo_a_testy" data-background-color="green"><h2>Obiektowość a testy</h2><div class="literalblock"><div class="content"><pre>Projektowanie obiektowe
    testability, czyli projektowanie pod kątem testów
    zasady wspierające dobry design (SOLID principles, Inversion of Control/Dependency Injection, powiązania, spójność)
Trochę szerszego spojrzenia
    rodzaje i poziomy testów: jednostkowe, integracyjne, akceptacyjne...
    TDD, a może BDD (Behavior-Driven Design) lub ATDD (Acceptance TDD)?
    Podejście klasyczne vs. podejście mockowe (Classical and Mockist Testing)
Praca z odziedziczonym kodem (Legacy Code)
    jak zrefaktoryzować kod, aby dało się go pokryć testem (rozcinanie zależności / Dependency Breaking)
    zrozumienie kodu i zabezpieczenie miejsca zmiany dzięki testom charakteryzacyjnym
Kontynuacja rozwoju
    wzorce stosowania TDD
    utrzymywanie testów - jak sprawić, by służyły mi za rok równie dobrze jak dziś</pre></div></div></section><section id="pytania_4"><h2>Pytania?</h2><div class="imageblock" style=""><img src="./img/question-mark.jpg" alt="question mark"></div></section></section>
<section><section id="podsumowanie_2"><h2>Podsumowanie</h2></section><section id="ksiki"><h2>Książki:</h2><div class="olist arabic"><ol class="arabic"><li><p>Kent Beck: TDD by Example</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p><a href="https://www.enbook.pl/catalog/product/view/id/401691?gclid=Cj0KCQjwsMDeBRDMARIsAKrOP7H87HyJG8_xrttm9kUrDXEAZUC4hYHkyOA4y4bNcYOwFi7GRV1YXjgaAqCCEALw_wcB">okładka 1</a></p></li><li><p><a href="https://allegro.pl/tdd-sztuka-tworzenia-dobrego-kodu-kent-beck-i7414838958.html">okładka 2</a></p></li></ol></div></li><li><p>Tomek Kaczanowski: <a href="http://kaczanowscy.pl/books/practical_unit_testing_junit_testng_mockito.html" class="bare">http://kaczanowscy.pl/books/practical_unit_testing_junit_testng_mockito.html</a> strona zawiera wersje dla JUnit i TestNG</p></li><li><p>Tomek Kaczanowski: Bad tests, good tests</p></li><li><p>Michael Feathers: Working Effectively with Legacy Code</p></li><li><p>Laurent Bossavit: <a href="https://leanpub.com/leprechauns" class="bare">https://leanpub.com/leprechauns</a></p></li><li><p>Nat Pryce, Steve Freeman: Growing OO Code Guided By Tests, <a href="https://www.enbook.pl/catalog/product/view/id/50336">ładnie skleja OO i testowania</a></p></li></ol></div></section><section id="tdd_2"><h2>TDD</h2><div class="olist arabic"><ol class="arabic"><li><p>projekt, API, nie tylko kod</p></li><li><p>3 prawa! test przed impl., min. imp. dla przejścia testu</p></li><li><p>refaktoryzacja to kosmetyka a nie nowe funkcje</p></li><li><p>pełniejszy diagram:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>czerwone &#8594; dąż do zielonego, JAK</p></li><li><p>zielone &#8594; dąż do czerwonego, CO</p></li></ol></div></li></ol></div></section><section id="obiekty_do_testw"><h2>Obiekty do testów</h2><div class="paragraph"><p>Testowe (na potrzeby testów) implementacje:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>fałszywka, wydmuszka, zaślepka</p></li><li><p>podróbka, szpieg</p></li></ol></div>
<div class="paragraph"><p>Czytajcie dokumentację Mockito.</p></div></section><section id="testowalny_kod"><h2>Testowalny kod</h2><div class="paragraph"><p><a href="http://misko.hevery.com/code-reviewers-guide/" class="bare">http://misko.hevery.com/code-reviewers-guide/</a></p></div></section><section id="narzdzia"><h2>Narzędzia</h2><div class="olist arabic"><ol class="arabic"><li><p>TestNG</p></li><li><p>Mockito</p></li><li><p>Maven Surefire i FailSafe</p></li><li><p>AssertJ</p></li><li><p>jak potrzeba - inne</p></li></ol></div></section></section></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/head.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.js"></script><script>// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display controls in the bottom right corner
  controls: true,
  // Display a presentation progress bar
  progress: true,
  // Set a per-slide timing for speaker notes, null means none
  defaultTiming: null,
  // Display the page number of the current slide
  slideNumber: true,
  // Push each slide change to the browser history
  history: false,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  previewLinks: false,
  // Theme (e.g., beige, black, league, night, serif, simple, sky, solarized, white)
  // NOTE setting the theme in the config no longer works in reveal.js 3.x
  //theme: Reveal.getQueryHash().theme || 'white',
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: Reveal.getQueryHash().transition || 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/zoom-js/zoom.js', async: true },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/notes/notes.js', async: true }
  ]
});</script></body></html>